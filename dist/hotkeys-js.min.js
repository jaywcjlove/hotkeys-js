var hotkeys=function(){"use strict";/*!
 * hotkeys-js v4.0.0-beta.2
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * @author kenny wong <wowohoo@qq.com>
 * @license MIT
 * @homepage https://jaywcjlove.github.io/hotkeys-js
 */const P=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function j(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent(`on${t}`,n)}function b(e,t,n,o){e&&(e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent(`on${t}`,n))}function U(e,t){const n=t.slice(0,t.length-1),o=[];for(let s=0;s<n.length;s++)o.push(e[n[s].toLowerCase()]);return o}function F(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function R(e,t){const n=e.length>=t.length?e:t,o=e.length>=t.length?t:e;let s=!0;for(let r=0;r<n.length;r++)o.indexOf(n[r])===-1&&(s=!1);return s}const _={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":P?173:189,"=":P?61:187,";":P?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},h={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,meta:91,command:91},L={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},a={16:!1,18:!1,17:!1,91:!1},l={};for(let e=1;e<20;e++)_[`f${e}`]=111+e;let c=[],C=null,B="all";const K=new Map,E=e=>_[e.toLowerCase()]||h[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),V=e=>Object.keys(_).find(t=>_[t]===e),X=e=>Object.keys(h).find(t=>h[t]===e),D=e=>{B=e||"all"},x=()=>B||"all",z=()=>c.slice(0),J=()=>c.map(e=>V(e)||X(e)||String.fromCharCode(e)),Q=()=>{const e=[];return Object.keys(l).forEach(t=>{l[t].forEach(({key:n,scope:o,mods:s,shortcut:r})=>{e.push({scope:o,shortcut:r,mods:s,keys:n.split("+").map(y=>E(y))})})}),e},$=e=>{const t=e.target||e.srcElement,{tagName:n}=t;let o=!0;const s=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(s||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(o=!1),o},W=e=>(typeof e=="string"&&(e=E(e)),c.indexOf(e)!==-1),Y=(e,t)=>{let n,o;e||(e=x());for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s))for(n=l[s],o=0;o<n.length;)n[o].scope===e?n.splice(o,1).forEach(({element:y})=>S(y)):o++;x()===e&&D(t||"all")};function Z(e){let t=e.keyCode||e.which||e.charCode;e.key&&e.key.toLowerCase()==="capslock"&&(t=E(e.key));const n=c.indexOf(t);if(n>=0&&c.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&c.splice(0,c.length),(t===93||t===224)&&(t=91),t in a){a[t]=!1;for(const o in h)h[o]===t&&(g[o]=!1)}}const G=(e,...t)=>{if(typeof e=="undefined")Object.keys(l).forEach(n=>{Array.isArray(l[n])&&l[n].forEach(o=>M(o)),delete l[n]}),S(null);else if(Array.isArray(e))e.forEach(n=>{n.key&&M(n)});else if(typeof e=="object")e.key&&M(e);else if(typeof e=="string"){let[n,o]=t;typeof n=="function"&&(o=n,n=""),M({key:e,scope:n,method:o,splitKey:"+"})}},M=({key:e,scope:t,method:n,splitKey:o="+"})=>{F(e).forEach(r=>{const y=r.split(o),u=y.length,i=y[u-1],d=i==="*"?"*":E(i);if(!l[d])return;t||(t=x());const k=u>1?U(h,y):[],w=[];l[d]=l[d].filter(p=>{const f=(n?p.method===n:!0)&&p.scope===t&&R(p.mods,k);return f&&w.push(p.element),!f}),w.forEach(p=>S(p))})};function H(e,t,n,o){if(t.element!==o)return;let s;if(t.scope===n||t.scope==="all"){s=t.mods.length>0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(!a[r]&&t.mods.indexOf(+r)>-1||a[r]&&t.mods.indexOf(+r)===-1)&&(s=!1);(t.mods.length===0&&!a[16]&&!a[18]&&!a[17]&&!a[91]||s||t.shortcut==="*")&&(t.keys=[],t.keys=t.keys.concat(c),t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function I(e,t){const n=l["*"];let o=e.keyCode||e.which||e.charCode;if(e.code){const i={KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90};i[e.code]&&(o=i[e.code])}if(e.key&&e.key.toLowerCase()==="capslock"||!(g.filter||$).call(this,e))return;if((o===93||o===224)&&(o=91),c.indexOf(o)===-1&&o!==229&&c.push(o),["metaKey","ctrlKey","altKey","shiftKey"].forEach(i=>{const d=L[i];e[i]&&c.indexOf(d)===-1?c.push(d):!e[i]&&c.indexOf(d)>-1?c.splice(c.indexOf(d),1):i==="metaKey"&&e[i]&&(c=c.filter(k=>k in L||k===o))}),o in a){a[o]=!0;for(const i in h)if(Object.prototype.hasOwnProperty.call(h,i)){const d=L[h[i]];g[i]=e[d]}if(!n)return}for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&(a[i]=e[L[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(c.indexOf(17)===-1&&c.push(17),c.indexOf(18)===-1&&c.push(18),a[17]=!0,a[18]=!0);const r=x();if(n)for(let i=0;i<n.length;i++)n[i].scope===r&&(e.type==="keydown"&&n[i].keydown||e.type==="keyup"&&n[i].keyup)&&H(e,n[i],r,t);if(!(o in l))return;const y=l[o],u=y.length;for(let i=0;i<u;i++)if((e.type==="keydown"&&y[i].keydown||e.type==="keyup"&&y[i].keyup)&&y[i].key){const d=y[i],{splitKey:k}=d,w=d.key.split(k),p=[];for(let O=0;O<w.length;O++)p.push(E(w[O]));p.sort().join("")===c.sort().join("")&&H(e,d,r,t)}}const g=function(t,n,o){c=[];const s=F(t);let r=[],y="all",u=document,i=0,d=!1,k=!0,w="+",p=!1,O=!1;if(o===void 0&&typeof n=="function"&&(o=n),Object.prototype.toString.call(n)==="[object Object]"){const f=n;f.scope&&(y=f.scope),f.element&&(u=f.element),f.keyup&&(d=f.keyup),f.keydown!==void 0&&(k=f.keydown),f.capture!==void 0&&(p=f.capture),typeof f.splitKey=="string"&&(w=f.splitKey),f.single===!0&&(O=!0)}for(typeof n=="string"&&(y=n),O&&G(t,y);i<s.length;i++){const f=s[i].split(w);r=[],f.length>1&&(r=U(h,f));let m=f[f.length-1];m=m==="*"?"*":E(m),m in l||(l[m]=[]),l[m].push({keyup:d,keydown:k,scope:y,mods:r,shortcut:s[i],method:o,key:s[i],splitKey:w,element:u})}if(typeof u!="undefined"&&typeof window!="undefined"){if(!K.has(u)){const f=(A=window.event)=>I(A,u),m=(A=window.event)=>{I(A,u),Z(A)};K.set(u,{keydownListener:f,keyupListenr:m,capture:p}),j(u,"keydown",f,p),j(u,"keyup",m,p)}if(!C){const f=()=>{c=[]};C={listener:f,capture:p},j(window,"focus",f,p)}}};function q(e,t="all"){Object.keys(l).forEach(n=>{l[n].filter(s=>s.scope===t&&s.shortcut===e).forEach(s=>{s&&s.method&&s.method({},s)})})}function S(e){const t=Object.values(l).flat();if(t.findIndex(({element:o})=>o===e)<0&&e){const{keydownListener:o,keyupListenr:s,capture:r}=K.get(e)||{};o&&s&&(b(e,"keyup",s,r),b(e,"keydown",o,r),K.delete(e))}if((t.length<=0||K.size<=0)&&(Array.from(K.keys()).forEach(s=>{const{keydownListener:r,keyupListenr:y,capture:u}=K.get(s)||{};r&&y&&(b(s,"keyup",y,u),b(s,"keydown",r,u),K.delete(s))}),K.clear(),Object.keys(l).forEach(s=>delete l[s]),C)){const{listener:s,capture:r}=C;b(window,"focus",s,r),C=null}}const T={getPressedKeyString:J,setScope:D,getScope:x,deleteScope:Y,getPressedKeyCodes:z,getAllKeyCodes:Q,isPressed:W,filter:$,trigger:q,unbind:G,keyMap:_,modifier:h,modifierMap:L};for(const e in T){const t=e;Object.prototype.hasOwnProperty.call(T,t)&&(g[t]=T[t])}if(typeof window!="undefined"){const e=window.hotkeys;g.noConflict=t=>(t&&window.hotkeys===g&&(window.hotkeys=e),g),window.hotkeys=g}return g}();
//# sourceMappingURL=hotkeys-js.min.js.map
