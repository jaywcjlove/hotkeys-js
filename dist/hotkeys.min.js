/*! hotkeys-js v3.8.7 | MIT (c) 2021 kenny wong <wowohoo@qq.com> | http://jaywcjlove.github.io/hotkeys */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).hotkeys=t()}(this,function(){"use strict";var e="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent(`on${t}`,()=>{n(window.event)})}function d(t,e){const n=e.slice(0,e.length-1);for(let e=0;e<n.length;e++)n[e]=t[n[e].toLowerCase()];return n}function y(e){const t=(e=(e="string"!=typeof e?"":e).replace(/\s/g,"")).split(",");let n=t.lastIndexOf("");for(;0<=n;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const t={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":e?173:189,"=":e?61:187,";":e?59:186,"'":222,"[":219,"]":221,"\\":220,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130},u={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},a={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},h={16:!1,18:!1,17:!1,91:!1},m={};let g=[],n="all";const w=[],k=e=>t[e.toLowerCase()]||u[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function l(e){n=e||"all"}function O(){return n||"all"}const i=({key:e,scope:i,method:l,splitKey:s="+"})=>{const t=y(e);t.forEach(e=>{var t=e.split(s),n=t.length,e=t[n-1],e="*"===e?"*":k(e);if(m[e]){i=i||O();const o=1<n?d(u,t):[];m[e]=m[e].map(e=>{return l&&e.method!==l||e.scope!==i||!function(e,t){var n=e.length<t.length?t:e;const o=e.length<t.length?e:t;let i=!0;for(let e=0;e<n.length;e++)~o.indexOf(n[e])||(i=!1);return i}(e.mods,o)?e:{}})}})};function K(e,t,n){let o;if(t.scope===n||"all"===t.scope){o=0<t.mods.length;for(const i in h)Object.prototype.hasOwnProperty.call(h,i)&&(!h[i]&&~t.mods.indexOf(+i)||h[i]&&!~t.mods.indexOf(+i))&&(o=!1);(0!==t.mods.length||h[16]||h[18]||h[17]||h[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function v(n){var t=m["*"];let o=n.keyCode||n.which||n.charCode;if(b.filter.call(this,n)){if(93!==o&&224!==o||(o=91),~g.indexOf(o)||229===o||g.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach(e=>{var t=a[e];n[e]&&!~g.indexOf(t)?g.push(t):!n[e]&&~g.indexOf(t)?g.splice(g.indexOf(t),1):"metaKey"===e&&n[e]&&3===g.length&&(n.ctrlKey||n.shiftKey||n.altKey||(g=g.slice(g.indexOf(t))))}),o in h){h[o]=!0;for(const e in u)u[e]===o&&(b[e]=!0);if(!t)return}for(const f in h)Object.prototype.hasOwnProperty.call(h,f)&&(h[f]=n[a[f]]);n.getModifierState&&(!n.altKey||n.ctrlKey)&&n.getModifierState("AltGraph")&&(~g.indexOf(17)||g.push(17),~g.indexOf(18)||g.push(18),h[17]=!0,h[18]=!0);var i=O();if(t)for(let e=0;e<t.length;e++)t[e].scope===i&&("keydown"===n.type&&t[e].keydown||"keyup"===n.type&&t[e].keyup)&&K(n,t[e],i);if(o in m)for(let e=0;e<m[o].length;e++)if(("keydown"===n.type&&m[o][e].keydown||"keyup"===n.type&&m[o][e].keyup)&&m[o][e].key){const r=m[o][e];var{splitKey:l}=r,s=r.key.split(l);const c=[];for(let e=0;e<s.length;e++)c.push(k(s[e]));c.sort().join("")===g.sort().join("")&&K(n,r,i)}}}var b=(e,t,n)=>{g=[];const o=y(e);let i=[],l="all",s=document,f=0,r=!1,c=!0,a="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(l=t.scope),t.element&&(s=t.element),t.keyup&&(r=t.keyup),void 0!==t.keydown&&(c=t.keydown),"string"==typeof t.splitKey&&(a=t.splitKey)),"string"==typeof t&&(l=t);f<o.length;f++)e=o[f].split(a),i=[],1<e.length&&(i=d(u,e)),(e="*"===(e=e[e.length-1])?"*":k(e))in m||(m[e]=[]),m[e].push({keyup:r,keydown:c,scope:l,mods:i,shortcut:o[f],method:n,key:o[f],splitKey:a});void 0!==s&&(t=s,!~w.indexOf(t))&&window&&(w.push(s),p(s,"keydown",e=>{v(e)}),p(window,"focus",()=>{g=[]}),p(s,"keyup",e=>{v(e),function(e){let t=e.keyCode||e.which||e.charCode;var n=g.indexOf(t);if(n<0||g.splice(n,1),e.key&&"meta"==e.key.toLowerCase()&&g.splice(0,g.length),93!==t&&224!==t||(t=91),t in h){h[t]=!1;for(const o in u)u[o]===t&&(b[o]=!1)}}(e)}))},o={setScope:l,getScope:O,deleteScope:function(e,t){let n,o;e=e||O();for(const i in m)if(Object.prototype.hasOwnProperty.call(m,i))for(n=m[i],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;O()===e&&l(t||"all")},getPressedKeyCodes:function(){return g.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=k(e)),!!~g.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,{tagName:e}=t;let n=!t.isContentEditable&&("INPUT"!==e&&"TEXTAREA"!==e&&"SELECT"!==e||t.readOnly)?!0:!1;return n},unbind:function(n,...o){if(n){if(Array.isArray(n))n.forEach(e=>{e.key&&i(e)});else if("object"==typeof n)n.key&&i(n);else if("string"==typeof n){let[e,t]=o;"function"==typeof e&&(t=e,e=""),i({key:n,scope:e,method:t,splitKey:"+"})}}else Object.keys(m).forEach(e=>delete m[e])}};for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&(b[s]=o[s]);if("undefined"!=typeof window){const f=window.hotkeys;b.noConflict=e=>(e&&window.hotkeys===b&&(window.hotkeys=f),b),window.hotkeys=b}return b});